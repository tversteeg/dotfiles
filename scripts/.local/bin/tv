#!/bin/bash

if [[ $# -ne 1 ]]; then
	echo 'Too many/few arguments, expecting "start" or "stop"' >&2
	exit 1
fi

case $1 in
	start)
		DISPLAY=:0.1 chromium --app-id=akkheaabpnkfhcaebdhneikfekamanod --start-fullscreen --window-position=0,0 --window-size=1925,1080 &
		echo "$!" > /tmp/jellyfin-chromium.pid
		;;
	stop)
		kill -15 "$(cat /tmp/jellyfin-chromium.pid)" &
		;;
	*)
		echo 'Expected "start" or "stop"' >&2
		exit 1
esac
